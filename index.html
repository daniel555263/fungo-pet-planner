<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FunGo å® ç‰©æ—…è¡Œè§„åˆ’å™¨</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
    }
    
    body { 
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "PingFang SC", "Microsoft YaHei", sans-serif; 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #2d3436;
    }
    
    @keyframes slideIn { 
      from { opacity: 0; transform: translateY(20px); } 
      to { opacity: 1; transform: translateY(0); } 
    }
    
    @keyframes pulse { 
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.8; }
      100% { transform: scale(1); opacity: 1; }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .slide-in { animation: slideIn 0.5s ease-out; }
    .pulse { animation: pulse 2s ease-in-out infinite; }
    .fade-in { animation: fadeIn 0.3s ease-out; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    // æ™ºèƒ½æ—¶æ®µæ¨èç³»ç»Ÿ
    const getTimeBasedRecommendations = () => {
      const hour = new Date().getHours();
      
      if (hour >= 6 && hour < 10) {
        return {
          period: 'æ—©æ™¨',
          emoji: 'ğŸŒ…',
          activities: ['æ™¨è·‘å…¬å›­', 'å® ç‰©æ—©é¤åº—', 'æ¹–è¾¹æ•£æ­¥'],
          highlight: 'æ¸…æ™¨ç©ºæ°”æ¸…æ–°ï¼Œé€‚åˆè¿åŠ¨'
        };
      } else if (hour >= 10 && hour < 14) {
        return {
          period: 'ä¸Šåˆ',
          emoji: 'â˜€ï¸',
          activities: ['å® ç‰©æ¸¸ä¹å›­', 'å®¤å†…æ´»åŠ¨ä¸­å¿ƒ', 'å® ç‰©ç¾å®¹'],
          highlight: 'é˜³å…‰å……è¶³ï¼Œæ³¨æ„é˜²æ™’'
        };
      } else if (hour >= 14 && hour < 17) {
        return {
          period: 'ä¸‹åˆ',
          emoji: 'ğŸŒ¤ï¸',
          activities: ['å® ç‰©å’–å•¡å…', 'è´­ç‰©ä¸­å¿ƒ', 'å®¤å†…æ¸¸æˆ'],
          highlight: 'é¿å¼€æœ€çƒ­æ—¶æ®µï¼Œå®¤å†…æ´»åŠ¨ä¸ºä¸»'
        };
      } else if (hour >= 17 && hour < 20) {
        return {
          period: 'å‚æ™š',
          emoji: 'ğŸŒ†',
          activities: ['æµ·è¾¹æ¼«æ­¥', 'å® ç‰©å…¬å›­', 'æˆ·å¤–æ™šé¤'],
          highlight: 'é»„é‡‘é›ç‹—æ—¶é—´ï¼Œæ¸©åº¦é€‚å®œ'
        };
      } else {
        return {
          period: 'å¤œæ™š',
          emoji: 'ğŸŒ™',
          activities: ['å® ç‰©å‹å¥½é¤å…', 'å¤œå¸‚é›å¼¯', 'æ˜Ÿç©ºéœ²è¥'],
          highlight: 'å‡‰çˆ½èˆ’é€‚ï¼Œæ³¨æ„å®‰å…¨'
        };
      }
    };

    // ç”Ÿæˆæ™ºèƒ½æ¨èæ–¹æ¡ˆ
    const generateSmartPlans = (tripType, preferences, city, duration) => {
      const timeRec = getTimeBasedRecommendations();
      
      if (tripType === 'local') {
        // æœ¬åœ°æ¸¸æ–¹æ¡ˆ - åŸºäºå½“å‰æ—¶æ®µ
        return [
          {
            id: 1,
            title: `${timeRec.period}é™å®šä½“éªŒ`,
            subtitle: timeRec.highlight,
            emoji: timeRec.emoji,
            type: 'time-based',
            highlights: ['å®æ—¶æ¨è', 'å½“å­£æœ€ä½³', 'å® ç‰©ä¸“å±'],
            petActivities: timeRec.activities,
            duration: '2-3å°æ—¶',
            petFriendly: 5,
            price: 'ğŸ’°ğŸ’°',
            tags: ['å³åˆ»å‡ºå‘', 'å® ç‰©æ¸¸ä¹', 'æ‹ç…§æ‰“å¡']
          },
          {
            id: 2,
            title: 'å‘¨æœ«ä¼‘é—²å¥—é¤',
            subtitle: 'è½»æ¾æƒ¬æ„çš„äº²å­æ—¶å…‰',
            emoji: 'ğŸª',
            type: 'leisure',
            highlights: ['å® ç‰©ä¹å›­', 'ç¾é£Ÿæ¢åº—', 'ä¸“å±æ‘„å½±'],
            petActivities: ['ç‹—ç‹—æ¸¸æ³³æ± ', 'å® ç‰©è¿åŠ¨åœº', 'ç¤¾äº¤æ´¾å¯¹'],
            duration: 'åŠå¤©',
            petFriendly: 5,
            price: 'ğŸ’°ğŸ’°ğŸ’°',
            tags: ['ç¤¾äº¤', 'è¿åŠ¨', 'ç¾é£Ÿ']
          },
          {
            id: 3,
            title: 'æ¢ç´¢åŸå¸‚ç§˜å¢ƒ',
            subtitle: 'å‘ç°åŸå¸‚é‡Œçš„å® ç‰©å¤©å ‚',
            emoji: 'ğŸ—ºï¸',
            type: 'explore',
            highlights: ['å°ä¼—æ™¯ç‚¹', 'è‡ªç„¶é£å…‰', 'ç§å¯†ç©ºé—´'],
            petActivities: ['ç§˜å¯†èŠ±å›­', 'ç§äººæµ·æ»©', 'å±±æ—å¾’æ­¥'],
            duration: 'å…¨å¤©',
            petFriendly: 4,
            price: 'ğŸ’°',
            tags: ['æ¢é™©', 'è‡ªç„¶', 'ç§å¯†']
          }
        ];
      } else {
        // é•¿é€”æ¸¸æ–¹æ¡ˆ - åŸºäºè¡Œç¨‹ç±»å‹
        return [
          {
            id: 1,
            title: 'èˆ’é€‚åº¦å‡å‹',
            subtitle: 'å® ç‰©å‹å¥½åº¦å‡æ‘ä½“éªŒ',
            emoji: 'ğŸ–ï¸',
            type: 'resort',
            highlights: ['äº”æ˜Ÿé…’åº—', 'ç§äººæ²™æ»©', 'ç®¡å®¶æœåŠ¡'],
            accommodation: 'å® ç‰©åº¦å‡æ‘',
            transport: 'å•†åŠ¡è½¦æ¥é€',
            duration: duration,
            petFriendly: 5,
            price: 'ğŸ’°ğŸ’°ğŸ’°ğŸ’°ğŸ’°',
            tags: ['å¥¢å', 'å…¨åŒ…', 'çœå¿ƒ']
          },
          {
            id: 2,
            title: 'è‡ªé©¾æ¢ç´¢å‹',
            subtitle: 'çµæ´»è‡ªç”±çš„å…¬è·¯æ—…è¡Œ',
            emoji: 'ğŸš—',
            type: 'roadtrip',
            highlights: ['éšå¿ƒåœç•™', 'æ™¯ç‚¹ä¸°å¯Œ', 'å® ç‰©å‹å¥½'],
            accommodation: 'ç‰¹è‰²æ°‘å®¿',
            transport: 'è‡ªé©¾/ç§Ÿè½¦',
            duration: duration,
            petFriendly: 4,
            price: 'ğŸ’°ğŸ’°ğŸ’°',
            tags: ['è‡ªç”±', 'æ¢ç´¢', 'çµæ´»']
          },
          {
            id: 3,
            title: 'æ–‡åŒ–ä½“éªŒå‹',
            subtitle: 'æ·±åº¦æ„Ÿå—å½“åœ°é£æƒ…',
            emoji: 'ğŸ›ï¸',
            type: 'cultural',
            highlights: ['å¤é•‡æ¼«æ­¥', 'ç¾é£Ÿä¹‹æ—…', 'æ°‘ä¿—ä½“éªŒ'],
            accommodation: 'ç²¾å“å®¢æ ˆ',
            transport: 'é«˜é“+å½“åœ°äº¤é€š',
            duration: duration,
            petFriendly: 3,
            price: 'ğŸ’°ğŸ’°',
            tags: ['æ–‡åŒ–', 'ç¾é£Ÿ', 'æ…¢æ¸¸']
          }
        ];
      }
    };

    const App = () => {
      const [page, setPage] = useState('planning');
      const [tripType, setTripType] = useState('');
      const [selectedCity, setSelectedCity] = useState('æ·±åœ³');
      const [selectedDistrict, setSelectedDistrict] = useState('å—å±±åŒº');
      const [duration, setDuration] = useState('');
      const [pets, setPets] = useState([{ 
        id: 1, name: 'æ—ºè´¢', type: 'é‡‘æ¯›', emoji: 'ğŸ•', weight: '25kg' 
      }]);
      const [preferences, setPreferences] = useState([]);
      const [generatedPlans, setGeneratedPlans] = useState([]);
      const [selectedPlan, setSelectedPlan] = useState(null);
      const [preservedPlans, setPreservedPlans] = useState([]);
      
      // UI çŠ¶æ€
      const [showAddPet, setShowAddPet] = useState(false);
      const [loading, setLoading] = useState(false);
      const [newPet, setNewPet] = useState({ name: '', type: '', weight: '' });

      // é…ç½®æ•°æ®
      const interests = [
        { id: 'beach', label: 'æµ·è¾¹ç©æ°´', icon: 'ğŸ–ï¸', color: '#4ECDC4' },
        { id: 'run', label: 'è‡ªç”±å¥”è·‘', icon: 'ğŸƒ', color: '#95E1D3' },
        { id: 'cafe', label: 'å’–å•¡æ—¶å…‰', icon: 'â˜•', color: '#F3A683' },
        { id: 'park', label: 'å…¬å›­æ•£æ­¥', icon: 'ğŸŒ³', color: '#78E08F' },
        { id: 'photo', label: 'æ‹ç…§æ‰“å¡', icon: 'ğŸ“¸', color: '#FDA7DF' },
        { id: 'food', label: 'ç¾é£Ÿæ¢åº—', icon: 'ğŸ½ï¸', color: '#FAB1A0' }
      ];

      const generateTrips = () => {
        if (!tripType) return;
        setLoading(true);
        setTimeout(() => {
          const plans = generateSmartPlans(tripType, preferences, selectedCity, duration);
          setGeneratedPlans(plans);
          setLoading(false);
          setPage('plans');
        }, 1500);
      };

      const selectPlan = (plan) => {
        setSelectedPlan(plan);
        setPage('details');
      };

      const togglePreservePlan = (planId) => {
        setPreservedPlans(prev => 
          prev.includes(planId) 
            ? prev.filter(id => id !== planId)
            : [...prev, planId]
        );
      };

      // è§„åˆ’é¡µé¢
      if (page === 'planning') {
        return (
          <div style={{ 
            minHeight: '100vh',
            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
            paddingBottom: '100px'
          }}>
            {/* ä¼˜åŒ–çš„å¤´éƒ¨ */}
            <div style={{ 
              background: 'rgba(255, 255, 255, 0.95)', 
              backdropFilter: 'blur(10px)',
              padding: '20px',
              boxShadow: '0 2px 20px rgba(0,0,0,0.1)'
            }}>
              <div style={{ 
                fontSize: '36px', 
                fontWeight: '800', 
                textAlign: 'center',
                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                WebkitBackgroundClip: 'text',
                WebkitTextFillColor: 'transparent',
                marginBottom: '8px'
              }}>
                FunGo
              </div>
              <div style={{ 
                fontSize: '14px', 
                color: '#8b95a5', 
                textAlign: 'center',
                letterSpacing: '0.5px'
              }}>
                ğŸ¾ å’Œæ¯›å­©å­ä¸€èµ·æ¢ç´¢ä¸–ç•Œ
              </div>
            </div>

            <div style={{ padding: '24px' }}>
              {/* å‡ºè¡Œç±»å‹é€‰æ‹© - ä¼˜åŒ–çš„å¡ç‰‡ */}
              <div className="slide-in" style={{ marginBottom: '32px' }}>
                <div style={{ 
                  fontSize: '18px', 
                  fontWeight: '600', 
                  color: 'white',
                  marginBottom: '16px',
                  display: 'flex',
                  alignItems: 'center',
                  gap: '8px'
                }}>
                  <span style={{ 
                    background: 'rgba(255,255,255,0.2)', 
                    borderRadius: '50%', 
                    width: '28px', 
                    height: '28px',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '14px',
                    fontWeight: '700'
                  }}>1</span>
                  é€‰æ‹©å‡ºè¡Œæ–¹å¼
                </div>
                
                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>
                  {[
                    { type: 'local', icon: 'ğŸ ', label: 'æœ¬åœ°æ¸¸', desc: '2-8å°æ—¶' },
                    { type: 'travel', icon: 'âœˆï¸', label: 'é•¿é€”æ¸¸', desc: '1-7å¤©' }
                  ].map(item => (
                    <div 
                      key={item.type}
                      onClick={() => setTripType(item.type)}
                      style={{
                        background: tripType === item.type 
                          ? 'rgba(255,255,255,0.95)' 
                          : 'rgba(255,255,255,0.85)',
                        borderRadius: '20px',
                        padding: '24px',
                        cursor: 'pointer',
                        transition: 'all 0.3s ease',
                        transform: tripType === item.type ? 'scale(1.02)' : 'scale(1)',
                        boxShadow: tripType === item.type 
                          ? '0 10px 30px rgba(0,0,0,0.2)' 
                          : '0 4px 15px rgba(0,0,0,0.1)',
                        border: tripType === item.type 
                          ? '2px solid #667eea'
                          : '2px solid transparent'
                      }}
                    >
                      <div style={{ fontSize: '40px', marginBottom: '12px', textAlign: 'center' }}>
                        {item.icon}
                      </div>
                      <div style={{ 
                        fontSize: '18px', 
                        fontWeight: '600', 
                        color: '#2d3436',
                        textAlign: 'center',
                        marginBottom: '4px'
                      }}>
                        {item.label}
                      </div>
                      <div style={{ 
                        fontSize: '12px', 
                        color: '#95a5a6',
                        textAlign: 'center'
                      }}>
                        {item.desc}
                      </div>
                    </div>
                  ))}
                </div>
              </div>

              {/* ä½ç½®ä¿¡æ¯ - ä¼˜åŒ–çš„å¯¹é½å’Œå¸ƒå±€ */}
              {tripType && (
                <div className="slide-in" style={{ marginBottom: '32px' }}>
                  <div style={{ 
                    fontSize: '18px', 
                    fontWeight: '600', 
                    color: 'white',
                    marginBottom: '16px',
                    display: 'flex',
                    alignItems: 'center',
                    gap: '8px'
                  }}>
                    <span style={{ 
                      background: 'rgba(255,255,255,0.2)', 
                      borderRadius: '50%', 
                      width: '28px', 
                      height: '28px',
                      display: 'flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                      fontSize: '14px',
                      fontWeight: '700'
                    }}>2</span>
                    {tripType === 'local' ? 'ç¡®è®¤æ‰€åœ¨ä½ç½®' : 'é€‰æ‹©ç›®çš„åœ°'}
                  </div>
                  
                  <div style={{
                    background: 'white',
                    borderRadius: '20px',
                    padding: '20px',
                    boxShadow: '0 4px 15px rgba(0,0,0,0.1)',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'space-between'
                  }}>
                    <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>
                      <div style={{
                        width: '48px',
                        height: '48px',
                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                        borderRadius: '12px',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        fontSize: '24px'
                      }}>
                        ğŸ“
                      </div>
                      <div>
                        <div style={{ fontSize: '18px', fontWeight: '600', color: '#2d3436' }}>
                          {selectedCity} Â· {selectedDistrict}
                        </div>
                        <div style={{ fontSize: '13px', color: '#95a5a6', marginTop: '4px' }}>
                          â˜€ï¸ 28Â°C é€‚å®œå‡ºè¡Œ
                        </div>
                      </div>
                    </div>
                    <div className="pulse" style={{
                      width: '10px',
                      height: '10px',
                      background: '#27ae60',
                      borderRadius: '50%'
                    }}></div>
                  </div>
                </div>
              )}

              {/* åå¥½é€‰æ‹© - ä¼˜åŒ–çš„ç½‘æ ¼å¸ƒå±€ */}
              {tripType && (
                <div className="slide-in" style={{ marginBottom: '32px' }}>
                  <div style={{ 
                    fontSize: '18px', 
                    fontWeight: '600', 
                    color: 'white',
                    marginBottom: '16px',
                    display: 'flex',
                    alignItems: 'center',
                    gap: '8px'
                  }}>
                    <span style={{ 
                      background: 'rgba(255,255,255,0.2)', 
                      borderRadius: '50%', 
                      width: '28px', 
                      height: '28px',
                      display: 'flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                      fontSize: '14px',
                      fontWeight: '700'
                    }}>3</span>
                    æƒ³è¦ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ
                  </div>
                  
                  <div style={{ 
                    display: 'grid', 
                    gridTemplateColumns: 'repeat(3, 1fr)', 
                    gap: '12px'
                  }}>
                    {interests.map(item => (
                      <div 
                        key={item.id}
                        onClick={() => {
                          setPreferences(prev => 
                            prev.includes(item.label) 
                              ? prev.filter(p => p !== item.label)
                              : [...prev, item.label]
                          );
                        }}
                        style={{
                          background: preferences.includes(item.label) 
                            ? item.color 
                            : 'rgba(255,255,255,0.9)',
                          borderRadius: '16px',
                          padding: '16px',
                          cursor: 'pointer',
                          transition: 'all 0.3s ease',
                          transform: preferences.includes(item.label) ? 'scale(0.95)' : 'scale(1)',
                          border: '2px solid transparent'
                        }}
                      >
                        <div style={{ 
                          fontSize: '28px', 
                          marginBottom: '8px',
                          textAlign: 'center'
                        }}>
                          {item.icon}
                        </div>
                        <div style={{ 
                          fontSize: '12px', 
                          fontWeight: '500',
                          color: preferences.includes(item.label) ? 'white' : '#2d3436',
                          textAlign: 'center'
                        }}>
                          {item.label}
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              )}

              {/* å® ç‰©ä¿¡æ¯ */}
              {tripType && (
                <div className="slide-in" style={{ marginBottom: '32px' }}>
                  <div style={{ 
                    fontSize: '18px', 
                    fontWeight: '600', 
                    color: 'white',
                    marginBottom: '16px',
                    display: 'flex',
                    alignItems: 'center',
                    gap: '8px'
                  }}>
                    <span style={{ 
                      background: 'rgba(255,255,255,0.2)', 
                      borderRadius: '50%', 
                      width: '28px', 
                      height: '28px',
                      display: 'flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                      fontSize: '14px',
                      fontWeight: '700'
                    }}>4</span>
                    åŒè¡Œä¼™ä¼´
                  </div>
                  
                  {pets.map(pet => (
                    <div key={pet.id} style={{
                      background: 'white',
                      borderRadius: '16px',
                      padding: '16px',
                      marginBottom: '12px',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '16px',
                      boxShadow: '0 2px 10px rgba(0,0,0,0.1)'
                    }}>
                      <div style={{
                        width: '56px',
                        height: '56px',
                        background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
                        borderRadius: '50%',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        fontSize: '28px'
                      }}>
                        {pet.emoji}
                      </div>
                      <div style={{ flex: 1 }}>
                        <div style={{ fontSize: '16px', fontWeight: '600', color: '#2d3436' }}>
                          {pet.name}
                        </div>
                        <div style={{ fontSize: '14px', color: '#95a5a6' }}>
                          {pet.type} Â· {pet.weight}
                        </div>
                      </div>
                    </div>
                  ))}
                  
                  <button
                    onClick={() => setShowAddPet(true)}
                    style={{
                      width: '100%',
                      padding: '16px',
                      background: 'rgba(255,255,255,0.3)',
                      border: '2px dashed rgba(255,255,255,0.6)',
                      borderRadius: '16px',
                      color: 'white',
                      fontSize: '16px',
                      fontWeight: '500',
                      cursor: 'pointer',
                      transition: 'all 0.3s ease'
                    }}
                  >
                    + æ·»åŠ å® ç‰©
                  </button>
                </div>
              )}
            </div>

            {/* åº•éƒ¨æŒ‰é’® */}
            {tripType && (
              <div style={{
                position: 'fixed',
                bottom: 0,
                left: 0,
                right: 0,
                padding: '20px',
                background: 'rgba(255,255,255,0.95)',
                backdropFilter: 'blur(10px)',
                boxShadow: '0 -2px 20px rgba(0,0,0,0.1)'
              }}>
                <button
                  onClick={generateTrips}
                  disabled={loading}
                  style={{
                    width: '100%',
                    padding: '18px',
                    background: loading 
                      ? '#95a5a6'
                      : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                    border: 'none',
                    borderRadius: '16px',
                    color: 'white',
                    fontSize: '18px',
                    fontWeight: '600',
                    cursor: loading ? 'not-allowed' : 'pointer',
                    transition: 'all 0.3s ease'
                  }}
                >
                  {loading ? 'ç”Ÿæˆä¸­...' : 'æ™ºèƒ½ç”Ÿæˆæ–¹æ¡ˆ'}
                </button>
              </div>
            )}

            {/* æ·»åŠ å® ç‰©å¼¹çª— */}
            {showAddPet && (
              <div style={{
                position: 'fixed',
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                background: 'rgba(0,0,0,0.5)',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                padding: '20px',
                zIndex: 1000
              }}>
                <div style={{
                  background: 'white',
                  borderRadius: '24px',
                  padding: '24px',
                  width: '100%',
                  maxWidth: '400px'
                }}>
                  <h3 style={{ marginBottom: '20px', color: '#2d3436' }}>æ·»åŠ å® ç‰©</h3>
                  <input
                    type="text"
                    placeholder="å® ç‰©åå­—"
                    value={newPet.name}
                    onChange={(e) => setNewPet({...newPet, name: e.target.value})}
                    style={{
                      width: '100%',
                      padding: '14px',
                      border: '1px solid #dfe6e9',
                      borderRadius: '12px',
                      marginBottom: '12px',
                      fontSize: '16px'
                    }}
                  />
                  <input
                    type="text"
                    placeholder="å“ç§"
                    value={newPet.type}
                    onChange={(e) => setNewPet({...newPet, type: e.target.value})}
                    style={{
                      width: '100%',
                      padding: '14px',
                      border: '1px solid #dfe6e9',
                      borderRadius: '12px',
                      marginBottom: '12px',
                      fontSize: '16px'
                    }}
                  />
                  <input
                    type="text"
                    placeholder="ä½“é‡"
                    value={newPet.weight}
                    onChange={(e) => setNewPet({...newPet, weight: e.target.value})}
                    style={{
                      width: '100%',
                      padding: '14px',
                      border: '1px solid #dfe6e9',
                      borderRadius: '12px',
                      marginBottom: '20px',
                      fontSize: '16px'
                    }}
                  />
                  <div style={{ display: 'flex', gap: '12px' }}>
                    <button
                      onClick={() => setShowAddPet(false)}
                      style={{
                        flex: 1,
                        padding: '14px',
                        background: '#f1f3f5',
                        border: 'none',
                        borderRadius: '12px',
                        fontSize: '16px',
                        cursor: 'pointer'
                      }}
                    >
                      å–æ¶ˆ
                    </button>
                    <button
                      onClick={() => {
                        if (newPet.name && newPet.type && newPet.weight) {
                          setPets([...pets, { ...newPet, id: Date.now(), emoji: 'ğŸ•' }]);
                          setNewPet({ name: '', type: '', weight: '' });
                          setShowAddPet(false);
                        }
                      }}
                      style={{
                        flex: 1,
                        padding: '14px',
                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                        border: 'none',
                        borderRadius: '12px',
                        color: 'white',
                        fontSize: '16px',
                        fontWeight: '600',
                        cursor: 'pointer'
                      }}
                    >
                      ç¡®è®¤
                    </button>
                  </div>
                </div>
              </div>
            )}
          </div>
        );
      }

      // æ–¹æ¡ˆé€‰æ‹©é¡µé¢
      if (page === 'plans') {
        const timeRec = getTimeBasedRecommendations();
        
        return (
          <div style={{ 
            minHeight: '100vh',
            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
          }}>
            <div style={{ 
              background: 'rgba(255,255,255,0.95)', 
              backdropFilter: 'blur(10px)',
              padding: '20px',
              boxShadow: '0 2px 20px rgba(0,0,0,0.1)'
            }}>
              <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>
                <button
                  onClick={() => setPage('planning')}
                  style={{
                    background: 'none',
                    border: 'none',
                    fontSize: '24px',
                    cursor: 'pointer'
                  }}
                >
                  â†
                </button>
                <div style={{ flex: 1 }}>
                  <div style={{ fontSize: '20px', fontWeight: '700', color: '#2d3436' }}>
                    ä¸ºæ‚¨æ™ºèƒ½æ¨è
                  </div>
                  <div style={{ fontSize: '14px', color: '#95a5a6', marginTop: '4px' }}>
                    {tripType === 'local' 
                      ? `åŸºäº${timeRec.period}æ—¶æ®µ Â· ${selectedCity}` 
                      : `${selectedCity}ä¹‹æ—… Â· ${duration}å¤©è¡Œç¨‹`}
