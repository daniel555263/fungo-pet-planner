<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0a0a0a">
  <title>FunGo - AI宠物旅行</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { 
      font-family: -apple-system, "SF Pro Display", sans-serif; 
      background: #0a0a0a;
      color: #fff;
      overscroll-behavior: none;
      -webkit-font-smoothing: antialiased;
    }
    ::-webkit-scrollbar { display: none; }
    .fade { animation: fadeIn 0.5s ease; }
    .slide { animation: slideUp 0.3s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } }
    @keyframes slideUp { from { transform: translateY(100%); } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
    .pulse { animation: pulse 1.5s infinite; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;

    const App = () => {
      const [screen, setScreen] = useState('home');
      const [data, setData] = useState({
        city: '深圳',
        type: '',
        pets: [],
        tags: []
      });
      const [modal, setModal] = useState(null);
      const [newPet, setNewPet] = useState({ name: '', type: '' });
      const [loading, setLoading] = useState(false);
      const [selectedPlan, setSelectedPlan] = useState(null);

      const plans = [
        {
          id: 1,
          name: '深圳湾漫步',
          tag: 'HOT',
          time: '3h',
          level: '轻松',
          img: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400',
          feat: ['海岸线', '宠物区', '日落'],
          score: 4.9,
          why: ['9km海岸步道', '专属宠物区域', '免费停车场', '饮水设施完善'],
          tips: ['下午4点后最佳', '带好饮用水', '注意防晒']
        },
        {
          id: 2,
          name: '莲花山观景',
          tag: 'VIEW',
          time: '2h',
          level: '适中',
          img: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400',
          feat: ['城市全景', '拍照圣地', '山顶草坪'],
          score: 4.7,
          why: ['360度城市景观', '适合各体型宠物', '多个观景平台', '空气清新'],
          tips: ['早晚光线最佳', '带水和零食', '工作日人少']
        }
      ];

      const tags = [
        { id: 'sea', name: '海边', icon: '🌊' },
        { id: 'park', name: '公园', icon: '🌳' },
        { id: 'cafe', name: '咖啡', icon: '☕' },
        { id: 'camp', name: '露营', icon: '🏕️' },
        { id: 'city', name: '城市', icon: '🏙️' },
        { id: 'photo', name: '拍照', icon: '📸' }
      ];

      const generatePlans = () => {
        setLoading(true);
        setTimeout(() => {
          setLoading(false);
          setScreen('plans');
        }, 1500);
      };

      const s = {
        page: { minHeight: '100vh', background: '#0a0a0a', paddingBottom: '100px' },
        header: { padding: '20px', background: 'linear-gradient(180deg, #0a0a0a, transparent)' },
        title: { fontSize: '32px', fontWeight: '800', background: 'linear-gradient(135deg, #60a5fa, #a78bfa)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' },
        card: { background: 'rgba(255,255,255,0.04)', backdropFilter: 'blur(10px)', border: '1px solid rgba(255,255,255,0.08)', borderRadius: '20px', padding: '20px', marginBottom: '12px' },
        btn: { width: '100%', padding: '16px', background: 'linear-gradient(135deg, #60a5fa, #a78bfa)', color: '#fff', border: 'none', borderRadius: '14px', fontSize: '16px', fontWeight: '600' },
        btnGhost: { width: '100%', padding: '16px', background: 'transparent', color: '#fff', border: '2px solid rgba(255,255,255,0.1)', borderRadius: '14px', fontSize: '16px' },
        input: { width: '100%', padding: '14px', background: 'rgba(255,255,255,0.05)', border: '2px solid rgba(255,255,255,0.08)', borderRadius: '12px', color: '#fff', fontSize: '15px', marginBottom: '12px', outline: 'none' },
        modal: { position: 'fixed', inset: 0, background: 'rgba(0,0,0,0.9)', display: 'flex', alignItems: 'flex-end', zIndex: 999 },
        modalBox: { width: '100%', background: '#1a1a1a', borderRadius: '24px 24px 0 0', padding: '24px' },
        tag: { padding: '12px 16px', background: 'rgba(255,255,255,0.05)', border: '2px solid rgba(255,255,255,0.1)', borderRadius: '12px', textAlign: 'center' },
        tagOn: { background: 'rgba(96,165,250,0.15)', border: '2px solid rgba(96,165,250,0.5)' },
        fixed: { position: 'fixed', bottom: 0, left: 0, right: 0, padding: '16px', background: '#0a0a0a', borderTop: '1px solid rgba(255,255,255,0.08)' }
      };

      if (screen === 'home') {
        return (
          <div style={s.page} className="fade">
            <div style={{ padding: '60px 20px 40px', textAlign: 'center' }}>
              <h1 style={s.title}>FunGo</h1>
              <p style={{ color: 'rgba(255,255,255,0.5)', marginTop: '8px' }}>AI宠物旅行规划</p>
            </div>
            
            <div style={{ padding: '0 20px' }}>
              <div onClick={() => { setData({...data, type: 'local'}); setScreen('setup'); }} 
                   style={{ ...s.card, background: 'linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1))' }}>
                <div style={{ fontSize: '28px', marginBottom: '8px' }}>🏠</div>
                <div style={{ fontSize: '18px', fontWeight: '600' }}>本地探索</div>
                <div style={{ fontSize: '13px', color: 'rgba(255,255,255,0.5)', marginTop: '4px' }}>发现周边宠物友好地点</div>
              </div>
              
              <div onClick={() => { setData({...data, type: 'travel'}); setScreen('city'); }} 
                   style={{ ...s.card, background: 'linear-gradient(135deg, rgba(251,146,60,0.1), rgba(239,68,68,0.1))' }}>
                <div style={{ fontSize: '28px', marginBottom: '8px' }}>✈️</div>
                <div style={{ fontSize: '18px', fontWeight: '600' }}>远途旅行</div>
                <div style={{ fontSize: '13px', color: 'rgba(255,255,255,0.5)', marginTop: '4px' }}>跨城市宠物旅行</div>
              </div>
            </div>
          </div>
        );
      }

      if (screen === 'city') {
        const cities = ['北京', '上海', '杭州', '成都'];
        return (
          <div style={s.page} className="fade">
            <div style={s.header}>
              <button onClick={() => setScreen('home')} style={{ background: 'none', border: 'none', color: '#fff', fontSize: '20px', marginBottom: '16px' }}>←</button>
              <h2 style={{ fontSize: '24px', fontWeight: '700' }}>选择目的地</h2>
            </div>
            
            <div style={{ padding: '0 20px' }}>
              {cities.map(city => (
                <div key={city} onClick={() => { setData({...data, city}); setScreen('setup'); }}
                     style={{ ...s.card, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                  <span style={{ fontSize: '18px' }}>{city}</span>
                  <span style={{ color: 'rgba(255,255,255,0.3)' }}>→</span>
                </div>
              ))}
            </div>
          </div>
        );
      }

      if (screen === 'setup') {
        return (
          <div style={s.page} className="fade">
            <div style={s.header}>
              <button onClick={() => setScreen(data.type === 'travel' ? 'city' : 'home')} 
                      style={{ background: 'none', border: 'none', color: '#fff', fontSize: '20px', marginBottom: '16px' }}>←</button>
              <h2 style={{ fontSize: '24px', fontWeight: '700' }}>旅行设置</h2>
              <p style={{ fontSize: '14px', color: 'rgba(255,255,255,0.5)', marginTop: '4px' }}>{data.city}</p>
            </div>
            
            <div style={{ padding: '0 20px' }}>
              <div style={{ marginBottom: '24px' }}>
                <h3 style={{ fontSize: '16px', marginBottom: '12px', color: 'rgba(255,255,255,0.7)' }}>同行宠物</h3>
                {data.pets.map(pet => (
                  <div key={pet.id} style={{ ...s.card, display: 'flex', alignItems: 'center', gap: '12px' }}>
                    <div style={{ width: '48px', height: '48px', background: 'linear-gradient(135deg, #60a5fa, #a78bfa)', borderRadius: '12px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '24px' }}>
                      {pet.type.includes('猫') ? '🐱' : '🐕'}
                    </div>
                    <div style={{ flex: 1 }}>
                      <div style={{ fontWeight: '600' }}>{pet.name}</div>
                      <div style={{ fontSize: '13px', color: 'rgba(255,255,255,0.5)' }}>{pet.type}</div>
                    </div>
                    <button onClick={() => setData({...data, pets: data.pets.filter(p => p.id !== pet.id)})}
                            style={{ background: 'none', border: 'none', color: 'rgba(255,255,255,0.3)', fontSize: '18px' }}>✕</button>
                  </div>
                ))}
                <button onClick={() => setModal('pet')} style={s.btnGhost}>+ 添加宠物</button>
              </div>

              <div style={{ marginBottom: '24px' }}>
                <h3 style={{ fontSize: '16px', marginBottom: '12px', color: 'rgba(255,255,255,0.7)' }}>兴趣标签</h3>
                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '8px' }}>
                  {tags.map(tag => (
                    <div key={tag.id} onClick={() => {
                           const newTags = data.tags.includes(tag.id) 
                             ? data.tags.filter(t => t !== tag.id)
                             : [...data.tags, tag.id];
                           setData({...data, tags: newTags});
                         }}
                         style={{ ...s.tag, ...(data.tags.includes(tag.id) ? s.tagOn : {}) }}>
                      <div style={{ fontSize: '20px', marginBottom: '4px' }}>{tag.icon}</div>
                      <div style={{ fontSize: '12px' }}>{tag.name}</div>
                    </div>
                  ))}
                </div>
              </div>
            </div>

            <div style={s.fixed}>
              <button onClick={generatePlans} disabled={data.pets.length === 0 || data.tags.length === 0}
                      style={{ ...s.btn, opacity: data.pets.length && data.tags.length ? 1 : 0.5 }}>
                {loading ? <span className="pulse">AI生成中...</span> : '生成方案'}
              </button>
            </div>

            {modal === 'pet' && (
              <div style={s.modal} className="fade">
                <div style={s.modalBox} className="slide">
                  <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '20px' }}>
                    <h3 style={{ fontSize: '20px', fontWeight: '700' }}>添加宠物</h3>
                    <button onClick={() => setModal(null)} style={{ background: 'none', border: 'none', color: 'rgba(255,255,255,0.5)', fontSize: '20px' }}>✕</button>
                  </div>
                  <input placeholder="宠物昵称" value={newPet.name} onChange={e => setNewPet({...newPet, name: e.target.value})} style={s.input} />
                  <input placeholder="品种" value={newPet.type} onChange={e => setNewPet({...newPet, type: e.target.value})} style={s.input} />
                  <button onClick={() => {
                    if (newPet.name && newPet.type) {
                      setData({...data, pets: [...data.pets, {...newPet, id: Date.now()}]});
                      setNewPet({ name: '', type: '' });
                      setModal(null);
                    }
                  }} style={s.btn}>确认</button>
                </div>
              </div>
            )}
          </div>
        );
      }

      if (screen === 'plans') {
        return (
          <div style={s.page} className="fade">
            <div style={s.header}>
              <button onClick={() => setScreen('setup')} style={{ background: 'none', border: 'none', color: '#fff', fontSize: '20px', marginBottom: '16px' }}>←</button>
              <h2 style={{ fontSize: '24px', fontWeight: '700' }}>推荐方案</h2>
              <p style={{ fontSize: '14px', color: 'rgba(255,255,255,0.5)', marginTop: '4px' }}>{data.city} · {plans.length}个方案</p>
            </div>
            
            <div style={{ padding: '0 20px' }}>
              {plans.map(plan => (
                <div key={plan.id} onClick={() => setSelectedPlan(plan)} style={{ ...s.card, padding: 0, overflow: 'hidden' }}>
                  <div style={{ height: '160px', background: `url(${plan.img}) center/cover`, position: 'relative' }}>
                    <div style={{ position: 'absolute', inset: 0, background: 'linear-gradient(to bottom, transparent, rgba(0,0,0,0.8))' }}></div>
                    <div style={{ position: 'absolute', top: '12px', left: '12px', padding: '4px 10px', background: '#ef4444', borderRadius: '8px', fontSize: '11px', fontWeight: '700' }}>{plan.tag}</div>
                    <div style={{ position: 'absolute', bottom: '12px', left: '12px', right: '12px' }}>
                      <div style={{ fontSize: '20px', fontWeight: '700', marginBottom: '4px' }}>{plan.name}</div>
                      <div style={{ fontSize: '13px', opacity: 0.8 }}>⏱ {plan.time} · 💪 {plan.level} · ⭐ {plan.score}</div>
                    </div>
                  </div>
                  <div style={{ padding: '12px', display: 'flex', gap: '6px' }}>
                    {plan.feat.map((f, i) => (
                      <span key={i} style={{ padding: '4px 8px', background: 'rgba(255,255,255,0.08)', borderRadius: '6px', fontSize: '11px' }}>{f}</span>
                    ))}
                  </div>
                </div>
              ))}
            </div>

            {selectedPlan && (
              <div style={s.modal} onClick={() => setSelectedPlan(null)} className="fade">
                <div style={{ ...s.modalBox, maxHeight: '80vh', overflowY: 'auto' }} onClick={e => e.stopPropagation()} className="slide">
                  <h3 style={{ fontSize: '22px', fontWeight: '700', marginBottom: '20px' }}>{selectedPlan.name}</h3>
                  
                  <div style={{ marginBottom: '20px' }}>
                    <h4 style={{ fontSize: '14px', color: 'rgba(255,255,255,0.5)', marginBottom: '12px' }}>推荐理由</h4>
                    {selectedPlan.why.map((w, i) => (
                      <div key={i} style={{ marginBottom: '8px', fontSize: '14px' }}>• {w}</div>
                    ))}
                  </div>
                  
                  <div style={{ marginBottom: '20px' }}>
                    <h4 style={{ fontSize: '14px', color: 'rgba(255,255,255,0.5)', marginBottom: '12px' }}>温馨提示</h4>
                    {selectedPlan.tips.map((t, i) => (
                      <div key={i} style={{ marginBottom: '8px', fontSize: '14px', color: 'rgba(255,255,255,0.7)' }}>• {t}</div>
                    ))}
                  </div>
                  
                  <button style={s.btn}>开始导航</button>
                </div>
              </div>
            )}
          </div>
        );
      }
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
