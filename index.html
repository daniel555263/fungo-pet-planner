<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FunGo 宠物旅行规划器</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
    @keyframes spin { to { transform: rotate(360deg); } }
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-5px); } 60% { transform: translateY(-3px); } }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .spin { animation: spin 1s linear infinite; }
    .bounce { animation: bounce 2s infinite; }
    .fade-in { animation: fadeInUp 0.5s ease-out; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    const App = () => {
      const [page, setPage] = useState('planning');
      const [selectedCity, setSelectedCity] = useState('深圳');
      const [tripType, setTripType] = useState('local');
      const [pets, setPets] = useState([{ id: 1, name: '旺财', type: '金毛', emoji: '🐕', weight: '25kg' }]);
      const [preferences, setPreferences] = useState(['海滨休闲']);
      const [showAddPet, setShowAddPet] = useState(false);
      const [newPet, setNewPet] = useState({ name: '', type: '', weight: '' });
      const [trips, setTrips] = useState([]);
      const [selectedTrip, setSelectedTrip] = useState(null);
      const [loading, setLoading] = useState(false);
      const [animationClass, setAnimationClass] = useState('');

      useEffect(() => {
        setAnimationClass('fade-in');
      }, []);

      const cities = [
        { name: '北京', weather: '☀️', temp: '24°C' },
        { name: '上海', weather: '⛅', temp: '26°C' },
        { name: '杭州', weather: '🌦️', temp: '22°C' },
        { name: '成都', weather: '☁️', temp: '20°C' }
      ];

      const interests = [
        { id: 'beach', label: '玩水嬉戏', icon: '🏖️' },
        { id: 'run', label: '狗狗奔跑', icon: '🏃' },
        { id: 'cafe', label: '喝下午茶', icon: '☕' },
        { id: 'park', label: '公园漫步', icon: '🌳' },
        { id: 'photo', label: '拍照打卡', icon: '📸' },
        { id: 'food', label: '美食探店', icon: '🍽️' }
      ];

      const mockTrips = [
        {
          id: 1,
          title: '深圳湾公园宠物友好半日游',
          subtitle: '海滨休闲 · 适合大型犬',
          duration: '3-4小时',
          distance: '12km',
          image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400',
          highlights: ['沙滩玩水', '海景步道', '宠物友好'],
          rating: 4.8,
          reviews: 1240,
          hot: '小红书推荐',
          details: {
            why: ['🌊 9公里海岸线', '🏖️ 宠物活动区', '🚗 停车便利', '💧 饮水设施'],
            tips: ['下午4点后前往', '带饮用水', '注意防晒', '清洁脚掌'],
            facilities: ['免费停车', '饮水点', '垃圾袋', '清洁区'],
            bestTime: '16:00-18:30',
            crowd: '周末较多'
          }
        }
      ];

      const generateTrips = () => {
        if (!selectedCity || !tripType || pets.length === 0) return;
        setLoading(true);
        setTimeout(() => {
          setTrips(mockTrips);
          setLoading(false);
          setPage('results');
        }, 1500);
      };

      const addPet = () => {
        if (newPet.name && newPet.type && newPet.weight) {
          setPets([...pets, { ...newPet, id: Date.now(), emoji: '🐕' }]);
          setNewPet({ name: '', type: '', weight: '' });
          setShowAddPet(false);
        }
      };

      const toggleInterest = (id) => {
        const label = interests.find(i => i.id === id).label;
        setPreferences(prev => 
          prev.includes(label) ? prev.filter(p => p !== label) : [...prev, label]
        );
      };

      const s = {
        container: { 
          background: 'linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%)', 
          minHeight: '100vh', 
          paddingBottom: '100px' 
        },
        header: { 
          background: 'rgba(255, 255, 255, 0.95)', 
          backdropFilter: 'blur(10px)',
          padding: '20px 16px 16px', 
          boxShadow: '0 2px 20px rgba(0,0,0,0.08)', 
          position: 'sticky', 
          top: 0, 
          zIndex: 10,
          borderBottom: '1px solid rgba(226, 232, 240, 0.5)'
        },
        logo: { 
          fontSize: '28px', 
          fontWeight: '800', 
          textAlign: 'center',
          letterSpacing: '-0.5px'
        },
        subtitle: {
          fontSize: '13px', 
          color: '#64748b', 
          textAlign: 'center', 
          marginTop: '6px',
          fontWeight: '500'
        },
        card: { 
          background: 'white', 
          borderRadius: '16px', 
          padding: '20px', 
          marginBottom: '16px',
          boxShadow: '0 2px 16px rgba(0,0,0,0.06)',
          border: '1px solid rgba(226, 232, 240, 0.5)'
        },
        step: { 
          display: 'flex', 
          alignItems: 'center', 
          gap: '12px', 
          marginBottom: '20px' 
        },
        stepNum: { 
          background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)', 
          color: 'white', 
          width: '28px', 
          height: '28px', 
          borderRadius: '50%', 
          display: 'flex', 
          alignItems: 'center', 
          justifyContent: 'center', 
          fontSize: '13px', 
          fontWeight: '700',
          boxShadow: '0 2px 8px rgba(59, 130, 246, 0.3)'
        },
        stepTitle: {
          fontSize: '17px', 
          fontWeight: '600',
          color: '#1e293b'
        },
        btn: { 
          padding: '16px', 
          background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)', 
          color: 'white', 
          border: 'none', 
          borderRadius: '12px', 
          fontSize: '16px', 
          fontWeight: '600', 
          width: '100%',
          boxShadow: '0 4px 16px rgba(59, 130, 246, 0.3)',
          transition: 'all 0.2s ease'
        },
        btnOutline: { 
          padding: '14px', 
          background: 'white', 
          color: '#3b82f6', 
          border: '2px solid #3b82f6', 
          borderRadius: '10px', 
          fontSize: '14px', 
          fontWeight: '600' 
        },
        bottom: { 
          position: 'fixed', 
          bottom: 0, 
          left: 0, 
          right: 0, 
          padding: '16px', 
          background: 'rgba(255, 255, 255, 0.95)',
          backdropFilter: 'blur(10px)',
          boxShadow: '0 -4px 20px rgba(0,0,0,0.1)',
          borderTop: '1px solid rgba(226, 232, 240, 0.5)'
        },
        modal: { 
          position: 'fixed', 
          top: 0, 
          left: 0, 
          right: 0, 
          bottom: 0, 
          background: 'rgba(0,0,0,0.6)', 
          display: 'flex', 
          alignItems: 'flex-end', 
          zIndex: 100,
          backdropFilter: 'blur(4px)'
        },
        modalContent: { 
          background: 'white', 
          borderRadius: '24px 24px 0 0', 
          padding: '24px 20px', 
          width: '100%',
          boxShadow: '0 -8px 32px rgba(0,0,0,0.2)'
        },
        input: { 
          width: '100%', 
          padding: '14px 16px', 
          border: '2px solid #e2e8f0', 
          borderRadius: '12px', 
          fontSize: '15px', 
          marginBottom: '12px', 
          outline: 'none',
          transition: 'border-color 0.2s ease',
          fontFamily: 'inherit'
        },
        grid2: { 
          display: 'grid', 
          gridTemplateColumns: '1fr 1fr', 
          gap: '12px' 
        },
        grid3: { 
          display: 'grid', 
          gridTemplateColumns: 'repeat(3, 1fr)', 
          gap: '10px' 
        },
        tripOption: {
          padding: '18px 16px', 
          borderRadius: '14px', 
          textAlign: 'center', 
          cursor: 'pointer',
          transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',
          border: '2px solid transparent'
        },
        cityCard: {
          padding: '16px 14px',
          borderRadius: '12px', 
          cursor: 'pointer',
          transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',
          border: '2px solid transparent'
        },
        interestCard: {
          padding: '14px 8px', 
          borderRadius: '12px', 
          textAlign: 'center', 
          cursor: 'pointer',
          transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',
          border: '2px solid transparent'
        },
        petCard: {
          display: 'flex', 
          alignItems: 'center', 
          gap: '14px', 
          padding: '16px',
          background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)', 
          borderRadius: '12px', 
          marginBottom: '12px',
          border: '1px solid rgba(56, 189, 248, 0.2)'
        },
        petAvatar: {
          fontSize: '24px', 
          width: '48px', 
          height: '48px', 
          background: 'white', 
          borderRadius: '50%', 
          display: 'flex', 
          alignItems: 'center', 
          justifyContent: 'center',
          boxShadow: '0 2px 8px rgba(0,0,0,0.1)'
        },
        addPetBtn: {
          width: '100%', 
          padding: '16px', 
          background: 'transparent', 
          border: '2px dashed #cbd5e1',
          borderRadius: '12px', 
          color: '#64748b', 
          fontSize: '14px', 
          fontWeight: '500',
          cursor: 'pointer',
          transition: 'all 0.2s ease'
        },
        currentLocationCard: {
          padding: '18px', 
          background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)', 
          border: '2px solid #3b82f6', 
          borderRadius: '14px', 
          marginBottom: '20px', 
          textAlign: 'center',
          position: 'relative',
          overflow: 'hidden'
        },
        preferencesTitle: {
          fontSize: '15px', 
          fontWeight: '600', 
          marginBottom: '16px',
          color: '#1e293b'
        }
      };

      if (page === 'planning') {
        return (
          <div style={s.container} className={animationClass}>
            <div style={s.header}>
              <div style={s.logo}>
                <span style={{ color: '#1e293b' }}>Fun</span>
                <span style={{ color: '#3b82f6' }}>Go</span>
                <span style={{ 
                  display: 'inline-block', 
                  width: '8px', 
                  height: '8px', 
                  background: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)', 
                  borderRadius: '50%', 
                  marginLeft: '3px', 
                  verticalAlign: 'super',
                  boxShadow: '0 2px 4px rgba(249, 115, 22, 0.3)'
                }} className="bounce"></span>
              </div>
              <div style={s.subtitle}>
                和毛孩子一起探索世界
              </div>
            </div>

            <div style={{ padding: '16px' }}>
              {/* 选择出行类型 */}
              <div style={s.card}>
                <div style={s.step}>
                  <span style={s.stepNum}>1</span>
                  <span style={s.stepTitle}>选择出行类型</span>
                </div>
                <div style={s.grid2}>
                  {[
                    { type: 'local', icon: '🏠', label: '本地游', desc: '周边游玩' },
                    { type: 'travel', icon: '✈️', label: '长途游', desc: '跨城旅行' }
                  ].map(item => (
                    <div 
                      key={item.type} 
                      onClick={() => setTripType(item.type)} 
                      style={{
                        ...s.tripOption,
                        background: tripType === item.type 
                          ? 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)' 
                          : 'white',
                        borderColor: tripType === item.type ? '#3b82f6' : '#e2e8f0',
                        transform: tripType === item.type ? 'translateY(-2px)' : 'translateY(0)',
                        boxShadow: tripType === item.type 
                          ? '0 8px 25px rgba(59, 130, 246, 0.15)' 
                          : '0 2px 8px rgba(0,0,0,0.06)'
                      }}
                    >
                      <div style={{ fontSize: '28px', marginBottom: '8px' }}>{item.icon}</div>
                      <div style={{ fontSize: '14px', fontWeight: '600', marginBottom: '4px' }}>{item.label}</div>
                      <div style={{ fontSize: '12px', color: '#64748b' }}>{item.desc}</div>
                    </div>
                  ))}
                </div>
              </div>

              {/* 确认所在城市 */}
              <div style={s.card}>
                <div style={s.step}>
                  <span style={s.stepNum}>2</span>
                  <span style={s.stepTitle}>
                    {tripType === 'local' ? '确认所在城市' : '选择目的地'}
                  </span>
                </div>
                {tripType === 'local' ? (
                  <div>
                    <div style={s.currentLocationCard}>
                      <div style={{ 
                        position: 'absolute', 
                        top: '-50%', 
                        right: '-20%', 
                        width: '100px', 
                        height: '100px', 
                        background: 'radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%)',
                        borderRadius: '50%'
                      }}></div>
                      <div style={{ fontSize: '16px', fontWeight: '600', marginBottom: '4px', position: 'relative', zIndex: 1 }}>
                        深圳本地游
                      </div>
                      <div style={{ fontSize: '13px', color: '#64748b', position: 'relative', zIndex: 1 }}>
                        ☀️ 28°C 适宜出行
                      </div>
                    </div>
                    <div style={s.preferencesTitle}>想要什么样的体验？</div>
                    <div style={s.grid3}>
                      {interests.map(item => (
                        <div 
                          key={item.id} 
                          onClick={() => toggleInterest(item.id)} 
                          style={{
                            ...s.interestCard,
                            background: preferences.includes(item.label) 
                              ? 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)' 
                              : 'white',
                            borderColor: preferences.includes(item.label) ? '#3b82f6' : '#e2e8f0',
                            color: preferences.includes(item.label) ? 'white' : '#1e293b',
                            transform: preferences.includes(item.label) ? 'translateY(-2px)' : 'translateY(0)',
                            boxShadow: preferences.includes(item.label) 
                              ? '0 6px 20px rgba(59, 130, 246, 0.25)' 
                              : '0 2px 8px rgba(0,0,0,0.06)'
                          }}
                        >
                          <div style={{ fontSize: '20px', marginBottom: '6px' }}>{item.icon}</div>
                          <div style={{ fontSize: '11px', fontWeight: '500' }}>{item.label}</div>
                        </div>
                      ))}
                    </div>
                  </div>
                ) : (
                  <div style={s.grid2}>
                    {cities.map(city => (
                      <div 
                        key={city.name} 
                        onClick={() => setSelectedCity(city.name)} 
                        style={{
                          ...s.cityCard,
                          background: selectedCity === city.name 
                            ? 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)' 
                            : 'white',
                          borderColor: selectedCity === city.name ? '#3b82f6' : '#e2e8f0',
                          color: selectedCity === city.name ? 'white' : '#1e293b',
                          transform: selectedCity === city.name ? 'translateY(-2px)' : 'translateY(0)',
                          boxShadow: selectedCity === city.name 
                            ? '0 6px 20px rgba(59, 130, 246, 0.25)' 
                            : '0 2px 8px rgba(0,0,0,0.06)'
                        }}
                      >
                        <div style={{ fontWeight: '600', fontSize: '15px', marginBottom: '4px' }}>{city.name}</div>
                        <div style={{ fontSize: '12px', opacity: selectedCity === city.name ? 0.9 : 0.6 }}>
                          {city.weather} {city.temp}
                        </div>
                      </div>
                    ))}
                  </div>
                )}
              </div>

              {/* 确认同行伙伴 */}
              <div style={s.card}>
                <div style={s.step}>
                  <span style={s.stepNum}>3</span>
                  <span style={s.stepTitle}>确认同行伙伴</span>
                </div>
                {pets.map(pet => (
                  <div key={pet.id} style={s.petCard}>
                    <div style={s.petAvatar}>
                      {pet.emoji}
                    </div>
                    <div style={{ flex: 1 }}>
                      <div style={{ fontSize: '15px', fontWeight: '600', marginBottom: '2px' }}>{pet.name}</div>
                      <div style={{ fontSize: '12px', color: '#64748b' }}>{pet.type} · {pet.weight}</div>
                    </div>
                    {pets.length > 1 && (
                      <button 
                        onClick={() => setPets(pets.filter(p => p.id !== pet.id))} 
                        style={{ 
                          background: 'none', 
                          border: 'none', 
                          color: '#ef4444', 
                          fontSize: '18px',
                          cursor: 'pointer',
                          padding: '4px',
                          borderRadius: '4px',
                          transition: 'background 0.2s ease'
                        }}
                        onMouseOver={(e) => e.target.style.background = 'rgba(239, 68, 68, 0.1)'}
                        onMouseOut={(e) => e.target.style.background = 'none'}
                      >
                        ✕
                      </button>
                    )}
                  </div>
                ))}
                <button 
                  onClick={() => setShowAddPet(true)} 
                  style={s.addPetBtn}
                  onMouseOver={(e) => {
                    e.target.style.borderColor = '#3b82f6';
                    e.target.style.color = '#3b82f6';
                    e.target.style.background = 'rgba(59, 130, 246, 0.05)';
                  }}
                  onMouseOut={(e) => {
                    e.target.style.borderColor = '#cbd5e1';
                    e.target.style.color = '#64748b';
                    e.target.style.background = 'transparent';
                  }}
                >
                  + 添加宠物
                </button>
              </div>
            </div>

            <div style={s.bottom}>
              <button 
                onClick={generateTrips} 
                disabled={!selectedCity || !tripType || pets.length === 0} 
                style={{
                  ...s.btn,
                  background: selectedCity && tripType && pets.length > 0 
                    ? 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)' 
                    : 'linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%)',
                  color: selectedCity && tripType && pets.length > 0 ? 'white' : '#94a3b8',
                  cursor: selectedCity && tripType && pets.length > 0 ? 'pointer' : 'not-allowed',
                  boxShadow: selectedCity && tripType && pets.length > 0 
                    ? '0 4px 16px rgba(59, 130, 246, 0.3)' 
                    : '0 2px 8px rgba(0,0,0,0.1)'
                }}
                onMouseOver={(e) => {
                  if (selectedCity && tripType && pets.length > 0) {
                    e.target.style.transform = 'translateY(-1px)';
                    e.target.style.boxShadow = '0 6px 20px rgba(59, 130, 246, 0.4)';
                  }
                }}
                onMouseOut={(e) => {
                  e.target.style.transform = 'translateY(0)';
                  e.target.style.boxShadow = selectedCity && tripType && pets.length > 0 
                    ? '0 4px 16px rgba(59, 130, 246, 0.3)' 
                    : '0 2px 8px rgba(0,0,0,0.1)';
                }}
              >
                {loading ? (
                  <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>
                    <div style={{ 
                      width: '16px', 
                      height: '16px', 
                      border: '2px solid rgba(255,255,255,0.3)', 
                      borderTop: '2px solid white', 
                      borderRadius: '50%' 
                    }} className="spin"></div>
                    生成中...
                  </div>
                ) : (
                  <>✨ 生成旅行方案</>
                )}
              </button>
            </div>

            {showAddPet && (
              <div style={s.modal}>
                <div style={s.modalContent}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px' }}>
                    <h3 style={{ fontSize: '18px', fontWeight: '700', color: '#1e293b' }}>添加宠物</h3>
                    <button 
                      onClick={() => setShowAddPet(false)} 
                      style={{ 
                        background: 'none', 
                        border: 'none', 
                        fontSize: '20px', 
                        color: '#64748b',
                        cursor: 'pointer',
                        padding: '4px',
                        borderRadius: '4px'
                      }}
                    >
                      ✕
                    </button>
                  </div>
                  <input 
                    type="text" 
                    placeholder="宠物名字" 
                    value={newPet.name} 
                    onChange={(e) => setNewPet({...newPet, name: e.target.value})} 
                    style={{
                      ...s.input,
                      ':focus': { borderColor: '#3b82f6' }
                    }}
                    onFocus={(e) => e.target.style.borderColor = '#3b82f6'}
                    onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}
                  />
                  <input 
                    type="text" 
                    placeholder="品种" 
                    value={newPet.type} 
                    onChange={(e) => setNewPet({...newPet, type: e.target.value})} 
                    style={s.input}
                    onFocus={(e) => e.target.style.borderColor = '#3b82f6'}
                    onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}
                  />
                  <input 
                    type="text" 
                    placeholder="体重" 
                    value={newPet.weight} 
                    onChange={(e) => setNewPet({...newPet, weight: e.target.value})} 
                    style={s.input}
                    onFocus={(e) => e.target.style.borderColor = '#3b82f6'}
                    onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}
                  />
                  <button 
                    onClick={addPet} 
                    style={{
                      ...s.btn,
                      marginTop: '8px'
                    }}
                  >
                    确认添加
                  </button>
                </div>
              </div>
            )}
          </div>
        );
      }

      // 保持其他页面不变...
      return <div>其他页面内容保持不变</div>;
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
