<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FunGo ÂÆ†Áâ©ÊóÖË°åËßÑÂàíÂô®</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
    @keyframes spin { to { transform: rotate(360deg); } }
    .spin { animation: spin 1s linear infinite; }
    @keyframes gradient { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
    .animate-gradient { background-size: 200% 200%; animation: gradient 3s ease infinite; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;
    const App = () => {
      const [page, setPage] = useState('planning');
      const [selectedCity, setSelectedCity] = useState('Ê∑±Âú≥');
      const [tripType, setTripType] = useState('local');
      const [pets, setPets] = useState([{ id: 1, name: 'Êó∫Ë¥¢', type: 'ÈáëÊØõ', emoji: 'üêï', weight: '25kg' }]);
      const [preferences, setPreferences] = useState(['Êµ∑Êª®‰ºëÈó≤']);
      const [showAddPet, setShowAddPet] = useState(false);
      const [showCityPicker, setShowCityPicker] = useState(false);
      const [showCustomPreference, setShowCustomPreference] = useState(false);
      const [customPreference, setCustomPreference] = useState('');
      const [newPet, setNewPet] = useState({ name: '', type: '', weight: '' });
      const [trips, setTrips] = useState([]);
      const [selectedTrip, setSelectedTrip] = useState(null);
      const [loading, setLoading] = useState(false);

      const cities = [
        { name: 'Ê∑±Âú≥', weather: '‚òÄÔ∏è', temp: '28¬∞C', desc: 'ÂÆú‰∫∫Êµ∑Êª®ÂüéÂ∏Ç' },
        { name: 'Âåó‰∫¨', weather: '‚òÄÔ∏è', temp: '24¬∞C', desc: 'ÂéÜÂè≤ÊñáÂåñÂêçÂüé' },
        { name: '‰∏äÊµ∑', weather: '‚õÖ', temp: '26¬∞C', desc: 'ÂõΩÈôÖÂ§ßÈÉΩÂ∏Ç' },
        { name: 'Êù≠Â∑û', weather: 'üå¶Ô∏è', temp: '22¬∞C', desc: 'Ê±üÂçóÊ∞¥‰π°' },
        { name: 'ÊàêÈÉΩ', weather: '‚òÅÔ∏è', temp: '20¬∞C', desc: 'Â§©Â∫ú‰πãÂõΩ' },
        { name: 'ÂπøÂ∑û', weather: '‚õÖ', temp: '29¬∞C', desc: 'Ëä±ÂüéÁæéÈ£ü' }
      ];

      const interests = [
        { id: 'beach', label: 'Áé©Ê∞¥Â¨âÊàè', icon: 'üèñÔ∏è' },
        { id: 'run', label: 'ÁãóÁãóÂ•îË∑ë', icon: 'üèÉ' },
        { id: 'cafe', label: 'Âñù‰∏ãÂçàËå∂', icon: '‚òï' },
        { id: 'park', label: 'ÂÖ¨Âõ≠Êº´Ê≠•', icon: 'üå≥' },
        { id: 'photo', label: 'ÊãçÁÖßÊâìÂç°', icon: 'üì∏' },
        { id: 'food', label: 'ÁæéÈ£üÊé¢Â∫ó', icon: 'üçΩÔ∏è' }
      ];

      const mockTrips = [
        {
          id: 1,
          title: 'Ê∑±Âú≥ÊπæÂÖ¨Âõ≠ÂÆ†Áâ©ÂèãÂ•ΩÂçäÊó•Ê∏∏',
          subtitle: 'Êµ∑Êª®‰ºëÈó≤ ¬∑ ÈÄÇÂêàÂ§ßÂûãÁä¨',
          duration: '3-4Â∞èÊó∂',
          distance: '12km',
          image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400',
          highlights: ['Ê≤ôÊª©Áé©Ê∞¥', 'Êµ∑ÊôØÊ≠•ÈÅì', 'ÂÆ†Áâ©ÂèãÂ•Ω'],
          rating: 4.8,
          reviews: 1240,
          hot: 'Â∞èÁ∫¢‰π¶Êé®Ëçê',
          details: {
            why: ['üåä 9ÂÖ¨ÈáåÊµ∑Â≤∏Á∫ø', 'üèñÔ∏è ÂÆ†Áâ©Ê¥ªÂä®Âå∫', 'üöó ÂÅúËΩ¶‰æøÂà©', 'üíß È•ÆÊ∞¥ËÆæÊñΩ'],
            tips: ['‰∏ãÂçà4ÁÇπÂêéÂâçÂæÄ', 'Â∏¶È•ÆÁî®Ê∞¥', 'Ê≥®ÊÑèÈò≤Êôí', 'Ê∏ÖÊ¥ÅËÑöÊéå'],
            facilities: ['ÂÖçË¥πÂÅúËΩ¶', 'È•ÆÊ∞¥ÁÇπ', 'ÂûÉÂúæË¢ã', 'Ê∏ÖÊ¥ÅÂå∫'],
            bestTime: '16:00-18:30',
            crowd: 'Âë®Êú´ËæÉÂ§ö'
          }
        },
        {
          id: 2,
          title: 'Ëé≤Ëä±Â±±ÂÖ¨Âõ≠ÂüéÂ∏ÇÊé¢Á¥¢',
          subtitle: 'ÈÉΩÂ∏ÇÊé¢Á¥¢ ¬∑ ÈÄÇÂêàÊãçÁÖß',
          duration: '2-3Â∞èÊó∂',
          distance: '8km',
          image: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400',
          highlights: ['Â±±È°∂ËßÇÊôØ', 'ÂüéÂ∏ÇÂÖ®ÊôØ', 'ÊãçÁÖßÊâìÂç°'],
          rating: 4.6,
          reviews: 856,
          hot: 'Ê∑±Âú≥ÂøÖÂéª',
          details: {
            why: ['üèîÔ∏è Ê∑±Âú≥Âà∂È´òÁÇπ', 'üêï Â±±Ë∑ØÂπ≥Áºì', 'üì∏ ËßÇÊôØÂπ≥Âè∞', 'üå≥ Á©∫Ê∞îÊ∏ÖÊñ∞'],
            tips: ['Â∏¶Ê∞¥ÂíåÈõ∂È£ü', 'Ê≥®ÊÑèÂÆâÂÖ®', 'Êó©ÊôöÂÖâÁ∫ø‰Ω≥', 'Â∑•‰ΩúÊó•‰∫∫Â∞ë'],
            facilities: ['ÂÖçË¥πÂÖ•Âõ≠', '‰ºëÊÅØ‰∫≠', 'ËßÇÊôØÂè∞', 'È•ÆÊ∞¥ÁÇπ'],
            bestTime: '08:00-10:00',
            crowd: 'Â∑•‰ΩúÊó•Â∞ë'
          }
        }
      ];

      const generateTrips = () => {
        if (!selectedCity || !tripType || pets.length === 0) return;
        setLoading(true);
        setTimeout(() => {
          setTrips(mockTrips);
          setLoading(false);
          setPage('results');
        }, 1500);
      };

      const addPet = () => {
        if (newPet.name && newPet.type && newPet.weight) {
          setPets([...pets, { ...newPet, id: Date.now(), emoji: 'üêï' }]);
          setNewPet({ name: '', type: '', weight: '' });
          setShowAddPet(false);
        }
      };

      const toggleInterest = (id) => {
        const label = interests.find(i => i.id === id).label;
        setPreferences(prev => 
          prev.includes(label) ? prev.filter(p => p !== label) : [...prev, label]
        );
      };

      const addCustomPreference = () => {
        if (customPreference.trim() && !preferences.includes(customPreference.trim())) {
          setPreferences([...preferences, customPreference.trim()]);
          setCustomPreference('');
          setShowCustomPreference(false);
        }
      };

      const s = {
        container: { background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', minHeight: '100vh', paddingBottom: '100px' },
        header: { background: 'rgba(255,255,255,0.95)', backdropFilter: 'blur(10px)', padding: '20px 16px', boxShadow: '0 4px 20px rgba(0,0,0,0.1)', position: 'sticky', top: 0, zIndex: 10 },
        logo: { fontSize: '28px', fontWeight: '900', textAlign: 'center', background: 'linear-gradient(45deg, #667eea, #764ba2)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' },
        subtitle: { fontSize: '13px', color: '#64748b', textAlign: 'center', marginTop: '6px' },
        section: { marginBottom: '32px' },
        sectionHeader: { display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '20px' },
        iconBox: { width: '40px', height: '40px', borderRadius: '12px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '16px', fontWeight: '700', color: 'white' },
        sectionTitle: { fontSize: '18px', fontWeight: '700', color: '#1e293b' },
        card: { background: 'rgba(255,255,255,0.9)', borderRadius: '20px', padding: '20px', marginBottom: '16px', boxShadow: '0 8px 32px rgba(0,0,0,0.1)', backdropFilter: 'blur(10px)' },
        btn: { padding: '16px', background: 'linear-gradient(45deg, #667eea, #764ba2)', color: 'white', border: 'none', borderRadius: '16px', fontSize: '16px', fontWeight: '700', width: '100%', cursor: 'pointer', transition: 'all 0.3s ease', boxShadow: '0 4px 20px rgba(102,126,234,0.3)' },
        btnDisabled: { padding: '16px', background: '#e2e8f0', color: '#94a3b8', border: 'none', borderRadius: '16px', fontSize: '16px', fontWeight: '700', width: '100%', cursor: 'not-allowed' },
        bottom: { position: 'fixed', bottom: 0, left: 0, right: 0, padding: '20px 16px', background: 'rgba(255,255,255,0.95)', backdropFilter: 'blur(10px)', boxShadow: '0 -4px 20px rgba(0,0,0,0.1)' },
        modal: { position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, background: 'rgba(0,0,0,0.6)', display: 'flex', alignItems: 'flex-end', zIndex: 100 },
        modalContent: { background: 'white', borderRadius: '24px 24px 0 0', padding: '24px 20px', width: '100%', maxHeight: '80vh', overflowY: 'auto' },
        input: { width: '100%', padding: '16px', border: '2px solid #e2e8f0', borderRadius: '12px', fontSize: '16px', marginBottom: '12px', outline: 'none', transition: 'border-color 0.3s ease' },
        grid2: { display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' },
        grid3: { display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '12px' }
      };

      if (page === 'planning') {
        return (
          <div style={s.container}>
            <div style={s.header}>
              <div style={s.logo}>FunGo</div>
              <div style={s.subtitle}>ÂíåÊØõÂ≠©Â≠ê‰∏ÄËµ∑Êé¢Á¥¢‰∏ñÁïå</div>
            </div>
            <div style={{ padding: '20px 16px' }}>
              {/* Trip Type Section */}
              <div style={s.section}>
                <div style={s.card}>
                  <div style={s.sectionHeader}>
                    <div style={{ ...s.iconBox, background: 'linear-gradient(45deg, #667eea, #764ba2)' }}>üéØ</div>
                    <span style={s.sectionTitle}>ÈÄâÊã©Âá∫Ë°åÁ±ªÂûã</span>
                  </div>
                  <div style={s.grid2}>
                    {[
                      { type: 'local', icon: 'üè†', label: 'Êú¨Âú∞Ê∏∏', desc: 'Âë®ËæπÊ∏∏Áé©', gradient: 'linear-gradient(45deg, #4ecdc4, #44a08d)' },
                      { type: 'travel', icon: '‚úàÔ∏è', label: 'ÈïøÈÄîÊ∏∏', desc: 'Ë∑®ÂüéÊóÖË°å', gradient: 'linear-gradient(45deg, #f093fb, #f5576c)' }
                    ].map(item => (
                      <div key={item.type} onClick={() => setTripType(item.type)} style={{
                        padding: '20px 16px', 
                        background: tripType === item.type ? item.gradient : 'rgba(255,255,255,0.8)',
                        border: `3px solid ${tripType === item.type ? 'transparent' : '#e2e8f0'}`,
                        borderRadius: '16px', 
                        textAlign: 'center', 
                        cursor: 'pointer',
                        transition: 'all 0.3s ease',
                        transform: tripType === item.type ? 'scale(1.02)' : 'scale(1)',
                        boxShadow: tripType === item.type ? '0 8px 32px rgba(0,0,0,0.15)' : '0 2px 8px rgba(0,0,0,0.05)',
                        color: tripType === item.type ? 'white' : '#1e293b'
                      }}>
                        <div style={{ fontSize: '32px', marginBottom: '8px' }}>{item.icon}</div>
                        <div style={{ fontSize: '15px', fontWeight: '700', marginBottom: '4px' }}>{item.label}</div>
                        <div style={{ fontSize: '12px', opacity: 0.8 }}>{item.desc}</div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>

              {/* City Selection */}
              <div style={s.section}>
                <div style={s.card}>
                  <div style={s.sectionHeader}>
                    <div style={{ ...s.iconBox, background: 'linear-gradient(45deg, #ff9a9e, #fecfef)' }}>üìç</div>
                    <span style={s.sectionTitle}>
                      {tripType === 'local' ? 'Á°ÆËÆ§ÊâÄÂú®ÂüéÂ∏Ç' : 'ÈÄâÊã©ÁõÆÁöÑÂú∞'}
                    </span>
                  </div>

                  {tripType === 'local' ? (
                    <>
                      <div onClick={() => setShowCityPicker(true)} style={{
                        padding: '20px', 
                        background: 'linear-gradient(45deg, #667eea, #764ba2)', 
                        color: 'white', 
                        borderRadius: '16px', 
                        marginBottom: '24px',
                        cursor: 'pointer',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'space-between',
                        boxShadow: '0 4px 20px rgba(102,126,234,0.3)'
                      }}>
                        <div>
                          <div style={{ fontSize: '18px', fontWeight: '700', marginBottom: '4px' }}>{selectedCity}Êú¨Âú∞Ê∏∏</div>
                          <div style={{ fontSize: '14px', opacity: 0.9 }}>‚òÄÔ∏è 28¬∞C ÈÄÇÂÆúÂá∫Ë°å</div>
                        </div>
                        <div style={{ fontSize: '20px', opacity: 0.8 }}>‚öôÔ∏è</div>
                      </div>

                      {/* Preferences */}
                      <div>
                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>
                          <span style={{ fontSize: '16px', fontWeight: '700', color: '#1e293b' }}>ÊÉ≥Ë¶Å‰ªÄ‰πàÊ†∑ÁöÑ‰ΩìÈ™åÔºü</span>
                          <span onClick={() => setShowCustomPreference(true)} style={{ 
                            color: '#667eea', 
                            fontSize: '14px', 
                            fontWeight: '600', 
                            cursor: 'pointer',
                            padding: '6px 12px',
                            background: 'rgba(102,126,234,0.1)',
                            borderRadius: '20px'
                          }}>
                            Ëá™ÂÆö‰πâ +
                          </span>
                        </div>
                        
                        <div style={s.grid3}>
                          {interests.map((item, idx) => {
                            const gradients = [
                              'linear-gradient(45deg, #4facfe, #00f2fe)',
                              'linear-gradient(45deg, #43e97b, #38f9d7)',
                              'linear-gradient(45deg, #fa709a, #fee140)',
                              'linear-gradient(45deg, #a8edea, #fed6e3)',
                              'linear-gradient(45deg, #ff9a9e, #fecfef)',
                              'linear-gradient(45deg, #ffecd2, #fcb69f)'
                            ];
                            return (
                              <div key={item.id} onClick={() => toggleInterest(item.id)} style={{
                                padding: '16px 12px', 
                                background: preferences.includes(item.label) ? gradients[idx] : 'rgba(255,255,255,0.8)',
                                border: `2px solid ${preferences.includes(item.label) ? 'transparent' : '#e2e8f0'}`,
                                borderRadius: '12px', 
                                textAlign: 'center', 
                                cursor: 'pointer',
                                transition: 'all 0.3s ease',
                                transform: preferences.includes(item.label) ? 'scale(1.05)' : 'scale(1)',
                                color: preferences.includes(item.label) ? 'white' : '#1e293b',
                                boxShadow: preferences.includes(item.label) ? '0 4px 16px rgba(0,0,0,0.2)' : '0 2px 8px rgba(0,0,0,0.05)'
                              }}>
                                <div style={{ fontSize: '20px', marginBottom: '4px' }}>{item.icon}</div>
                                <div style={{ fontSize: '11px', fontWeight: '600' }}>{item.label}</div>
                              </div>
                            );
                          })}
                        </div>

                        {/* Custom preferences display */}
                        {preferences.filter(p => !interests.map(i => i.label).includes(p)).length > 0 && (
                          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: '12px' }}>
                            {preferences.filter(p => !interests.map(i => i.label).includes(p)).map(pref => (
                              <span key={pref} style={{ 
                                padding: '6px 12px', 
                                background: 'linear-gradient(45d, #667eea, #764ba2)', 
                                color: 'white', 
                                fontSize: '12px', 
                                borderRadius: '20px', 
                                display: 'flex', 
                                alignItems: 'center', 
                                gap: '6px' 
                              }}>
                                {pref}
                                <span onClick={() => setPreferences(preferences.filter(p => p !== pref))} style={{ cursor: 'pointer', opacity: 0.8 }}>√ó</span>
                              </span>
                            ))}
                          </div>
                        )}
                      </div>
                    </>
                  ) : (
                    <div style={s.grid2}>
                      {cities.slice(0, 4).map(city => (
                        <div key={city.name} onClick={() => setSelectedCity(city.name)} style={{
                          padding: '16px', 
                          background: selectedCity === city.name ? 'linear-gradient(45deg, #667eea, #764ba2)' : 'rgba(255,255,255,0.8)',
                          border: `2px solid ${selectedCity === city.name ? 'transparent' : '#e2e8f0'}`,
                          borderRadius: '12px', 
                          cursor: 'pointer',
                          color: selectedCity === city.name ? 'white' : '#1e293b',
                          transition: 'all 0.3s ease',
                          transform: selectedCity === city.name ? 'scale(1.02)' : 'scale(1)'
                        }}>
                          <div style={{ fontWeight: '700', fontSize: '15px', marginBottom: '4px' }}>{city.name}</div>
                          <div style={{ fontSize: '12px', opacity: 0.8 }}>{city.weather} {city.temp}</div>
                        </div>
                      ))}
                    </div>
                  )}
                </div>
              </div>

              {/* Pets Section */}
              <div style={s.section}>
                <div style={s.card}>
                  <div style={s.sectionHeader}>
                    <div style={{ ...s.iconBox, background: 'linear-gradient(45deg, #ffecd2, #fcb69f)' }}>üêï</div>
                    <span style={s.sectionTitle}>Á°ÆËÆ§ÂêåË°å‰ºô‰º¥</span>
                  </div>

                  {pets.map(pet => (
                    <div key={pet.id} style={{
                      display: 'flex', 
                      alignItems: 'center', 
                      gap: '16px', 
                      padding: '16px',
                      background: 'rgba(255,255,255,0.8)', 
                      borderRadius: '12px', 
                      marginBottom: '12px',
                      border: '2px solid #f0f9ff'
                    }}>
                      <div style={{ 
                        fontSize: '24px', 
                        width: '50px', 
                        height: '50px', 
                        background: 'linear-gradient(45deg, #ffecd2, #fcb69f)', 
                        borderRadius: '50%', 
                        display: 'flex', 
                        alignItems: 'center', 
                        justifyContent: 'center' 
                      }}>
                        {pet.emoji}
                      </div>
                      <div style={{ flex: 1 }}>
                        <div style={{ fontSize: '16px', fontWeight: '700', color: '#1e293b' }}>{pet.name}</div>
                        <div style={{ fontSize: '13px', color: '#64748b' }}>{pet.type} ¬∑ {pet.weight}</div>
                      </div>
                      {pets.length > 1 && (
                        <div onClick={() => setPets(pets.filter(p => p.id !== pet.id))} style={{ 
                          background: '#fee2e2', 
                          color: '#ef4444', 
                          width: '32px', 
                          height: '32px', 
                          borderRadius: '50%', 
                          display: 'flex', 
                          alignItems: 'center', 
                          justifyContent: 'center', 
                          cursor: 'pointer',
                          fontSize: '16px',
                          fontWeight: '700'
                        }}>√ó</div>
                      )}
                    </div>
                  ))}

                  <div onClick={() => setShowAddPet(true)} style={{
                    width: '100%', 
                    padding: '16px', 
                    background: 'rgba(255,255,255,0.6)', 
                    border: '2px dashed #cbd5e1',
                    borderRadius: '12px', 
                    color: '#64748b', 
                    fontSize: '15px', 
                    fontWeight: '600',
                    textAlign: 'center',
                    cursor: 'pointer'
                  }}>
                    + Ê∑ªÂä†ÂÆ†Áâ©
                  </div>
                </div>
              </div>
            </div>

            <div style={s.bottom}>
              <button onClick={generateTrips} disabled={!selectedCity || !tripType || pets.length === 0 || loading} style={
                selectedCity && tripType && pets.length > 0 && !loading ? s.btn : s.btnDisabled
              }>
                {loading ? (
                  <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>
                    <div className="spin" style={{ width: '20px', height: '20px', border: '2px solid white', borderTop: '2px solid transparent', borderRadius: '50%' }}></div>
                    ÁîüÊàê‰∏≠...
                  </div>
                ) : (
                  '‚ú® ÁîüÊàêÊóÖË°åÊñπÊ°à'
                )}
              </button>
            </div>

            {/* Modals */}
            {showCityPicker && (
              <div style={s.modal}>
                <div style={s.modalContent}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>
                    <h3 style={{ fontSize: '20px', fontWeight: '700' }}>ÈÄâÊã©ÂüéÂ∏Ç</h3>
                    <div onClick={() => setShowCityPicker(false)} style={{ fontSize: '24px', color: '#94a3b8', cursor: 'pointer' }}>√ó</div>
                  </div>
                  {cities.map(city => (
                    <div key={city.name} onClick={() => {
                      setSelectedCity(city.name);
                      setShowCityPicker(false);
                    }} style={{
                      padding: '16px', 
                      background: selectedCity === city.name ? '#f0f9ff' : '#f8fafc',
                      border: `2px solid ${selectedCity === city.name ? '#667eea' : '#e2e8f0'}`,
                      borderRadius: '12px', 
                      marginBottom: '8px',
                      cursor: 'pointer',
                      display: 'flex',
                      justifyContent: 'space-between',
                      alignItems: 'center'
                    }}>
                      <div>
                        <div style={{ fontWeight: '700', fontSize: '16px' }}>{city.name}</div>
                        <div style={{ fontSize: '14px', color: '#64748b' }}>{city.desc}</div>
                      </div>
                      <div style={{ textAlign: 'right' }}>
                        <div style={{ fontSize: '18px' }}>{city.weather}</div>
                        <div style={{ fontSize: '13px', color: '#64748b' }}>{city.temp}</div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            )}

            {showCustomPreference && (
              <div style={s.modal}>
                <div style={s.modalContent}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>
                    <h3 style={{ fontSize: '20px', fontWeight: '700' }}>Ê∑ªÂä†Ëá™ÂÆö‰πâ‰ΩìÈ™å</h3>
                    <div onClick={() => setShowCustomPreference(false)} style={{ fontSize: '24px', color: '#94a3b8', cursor: 'pointer' }}>√ó</div>
                  </div>
                  <input
                    type="text"
                    placeholder="‰æãÂ¶ÇÔºöÊà∑Â§ñÁÉßÁÉ§„ÄÅËßÇÊòü..."
                    value={customPreference}
                    onChange={(e) => setCustomPreference(e.target.value)}
                    style={{ ...s.input, borderColor: customPreference ? '#667eea' : '#e2e8f0' }}
                  />
                  <button onClick={addCustomPreference} style={s.btn}>
                    Ê∑ªÂä†‰ΩìÈ™å
                  </button>
                </div>
              </div>
            )}

            {showAddPet && (
              <div style={s.modal}>
                <div style={s.modalContent}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>
                    <h3 style={{ fontSize: '20px', fontWeight: '700' }}>Ê∑ªÂä†ÂÆ†Áâ©</h3>
                    <div onClick={() => setShowAddPet(false)} style={{ fontSize: '24px', color: '#94a3b8', cursor: 'pointer' }}>√ó</div>
                  </div>
                  <input type="text" placeholder="ÂÆ†Áâ©ÂêçÂ≠ó" value={newPet.name} onChange={(e) => setNewPet({...newPet, name: e.target.value})} style={s.input} />
                  <input type="text" placeholder="ÂìÅÁßç" value={newPet.type} onChange={(e) => setNewPet({...newPet, type: e.target.value})} style={s.input} />
                  <input type="text" placeholder="‰ΩìÈáç" value={newPet.weight} onChange={(e) => setNewPet({...newPet, weight: e.target.value})} style={s.input} />
                  <button onClick={addPet} style={s.btn}>Á°ÆËÆ§Ê∑ªÂä†</button>
                </div>
              </div>
            )}
          </div>
        );
      }

      if (page === 'results' && !selectedTrip) {
        return (
          <div style={s.container}>
            <div style={{ ...s.header, display: 'flex', alignItems: 'center', gap: '12px' }}>
              <div onClick={() => setPage('planning')} style={{ fontSize: '24px', cursor: 'pointer', color: '#667eea' }}>‚Üê</div>
              <div style={{ flex: 1 }}>
                <div style={{ fontSize: '18px', fontWeight: '700', color: '#1e293b' }}>Êé®ËçêÊñπÊ°à</div>
                <div style={{ fontSize: '12px', color: '#64748b' }}>Ê∑±Âú≥Êú¨Âú∞ ¬∑ {pets[0].name}ÁöÑÊóÖË°å</div>
              </div>
            </div>
            <div style={{ padding: '16px' }}>
              {trips.map((trip, idx) => (
                <div key={trip.id} onClick={() => setSelectedTrip(trip)} style={{ 
                  ...s.card, 
                  cursor: 'pointer', 
                  overflow: 'hidden', 
                  padding: 0,
                  transition: 'all 0.3s ease'
                }}>
                  <div style={{ height: '160px', background: `url(${trip.image}) center/cover`, position: 'relative' }}>
                    <div style={{ position: 'absolute', top: '12px', left: '12px', background: 'rgba(0,0,0,0.7)', color: 'white', padding: '6px 12px', borderRadius: '20px', fontSize: '12px', fontWeight: '600' }}>
                      ÊñπÊ°à {idx + 1}
                    </div>
                    {trip.hot && (
                      <div style={{ position: 'absolute', bottom: '12px', left: '12px', background: 'linear-gradient(45deg, #ff6b6b, #ee5a24)', color: 'white', padding: '6px 12px', borderRadius: '20px', fontSize: '11px', fontWeight: '600' }}>
                        üî• {trip.hot}
                      </div>
                    )}
                  </div>
                  <div style={{ padding: '16px' }}>
                    <h3 style={{ fontSize: '17px', fontWeight: '700', marginBottom: '6px', color: '#1e293b' }}>{trip.title}</h3>
                    <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '12px' }}>{trip.subtitle}</p>
                    <div style={{ display: 'flex', gap: '16px', marginBottom: '12px' }}>
                      <span style={{ fontSize: '12px', color: '#64748b', display: 'flex', alignItems: 'center', gap: '4px' }}>‚è± {trip.duration}</span>
                      <span style={{ fontSize: '12px', color: '#64748b', display: 'flex', alignItems: 'center', gap: '4px' }}>üìç {trip.distance}</span>
                    </div>
                    <div style={{ display: 'flex', gap: '6px', marginBottom: '12px', flexWrap: 'wrap' }}>
                      {trip.highlights.map((h, i) => (
                        <span key={i} style={{ 
                          background: 'linear-gradient(45deg, #667eea, #764ba2)', 
                          color: 'white', 
                          padding: '4px 8px', 
                          borderRadius: '12px', 
                          fontSize: '11px',
                          fontWeight: '500'
                        }}>
                          {h}
                        </span>
                      ))}
                    </div>
                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>
                      <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>
                        <span style={{ color: '#fbbf24' }}>‚≠ê</span>
                        <span style={{ fontSize: '14px', fontWeight: '700', color: '#1e293b' }}>{trip.rating}</span>
                        <span style={{ fontSize: '12px', color: '#64748b' }}>({trip.reviews}Êù°ËØÑ‰ª∑)</span>
                      </div>
                      <span style={{ fontSize: '20px', color: '#667eea' }}>‚Üí</span>
                    </div>
                  </div>
                </div>
              ))}
            </div>
            <div style={s.bottom}>
              <button onClick={() => setPage('planning')} style={{ ...s.btn, background: 'linear-gradient(45deg, #64748b, #475569)' }}>
                ÈáçÊñ∞ËßÑÂàí
              </button>
            </div>
          </div>
        );
      }

      if (selectedTrip) {
        const detail = selectedTrip.details;
        return (
          <div style={s.container}>
            <div style={{ ...s.header, display: 'flex', alignItems: 'center', gap: '12px' }}>
              <div onClick={() => setSelectedTrip(null)} style={{ fontSize: '24px', cursor: 'pointer', color: '#667eea' }}>‚Üê</div>
              <div style={{ fontSize: '18px', fontWeight: '700', flex: 1, color: '#1e293b' }}>ÊñπÊ°àËØ¶ÊÉÖ</div>
            </div>
            <div style={{ height: '240px', background: `url(${selectedTrip.image}) center/cover`, position: 'relative' }}>
              <div style={{ position: 'absolute', bottom: 0, left: 0, right: 0, background: 'linear-gradient(transparent, rgba(0,0,0,0.7))', padding: '20px' }}>
                <div style={{ color: 'white', fontSize: '20px', fontWeight: '700' }}>{selectedTrip.title}</div>
              </div>
            </div>
            <div style={{ padding: '16px', paddingBottom: '100px' }}>
              <div style={s.card}>
                <h2 style={{ fontSize: '20px', fontWeight: '700', marginBottom: '8px', color: '#1e293b' }}>{selectedTrip.title}</h2>
                <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '16px' }}>{selectedTrip.subtitle}</p>
                <div style={s.grid2}>
                  <div style={{ padding: '12px', background: 'rgba(102,126,234,0.1)', borderRadius: '12px' }}>
                    <div style={{ fontSize: '12px', color: '#64748b', marginBottom: '4px' }}>ÊúÄ‰Ω≥Êó∂Èó¥</div>
                    <div style={{ fontSize: '14px', fontWeight: '700', color: '#667eea' }}>{detail.bestTime}</div>
                  </div>
                  <div style={{ padding: '12px', background: 'rgba(102,126,234,0.1)', borderRadius: '12px' }}>
                    <div style={{ fontSize: '12px', color: '#64748b', marginBottom: '4px' }}>‰∫∫ÊµÅÊÉÖÂÜµ</div>
                    <div style={{ fontSize: '14px', fontWeight: '700', color: '#667eea' }}>{detail.crowd}</div>
                  </div>
                </div>
              </div>

              <div style={s.card}>
                <h3 style={{ fontSize: '16px', fontWeight: '700', marginBottom: '12px', color: '#1e293b' }}>‰∏∫‰ªÄ‰πàÊé®Ëçê</h3>
                <div style={{ display: 'grid', gap: '8px' }}>
                  {detail.why.map((item, i) => (
                    <div key={i} style={{ 
                      fontSize: '14px', 
                      padding: '8px 12px', 
                      background: 'rgba(102,126,234,0.05)', 
                      borderRadius: '8px',
                      color: '#1e293b'
                    }}>{item}</div>
                  ))}
                </div>
              </div>

              <div style={s.card}>
                <h3 style={{ fontSize: '16px', fontWeight: '700', marginBottom: '12px', color: '#1e293b' }}>ËÆæÊñΩÊúçÂä°</h3>
                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>
                  {detail.facilities.map((f, i) => (
                    <span key={i} style={{ 
                      background: 'linear-gradient(45deg, #4ade80, #22c55e)', 
                      color: 'white', 
                      padding: '6px 12px', 
                      borderRadius: '20px', 
                      fontSize: '12px',
                      fontWeight: '500'
                    }}>
                      ‚úì {f}
                    </span>
                  ))}
                </div>
              </div>

              <div style={{ ...s.card, background: 'linear-gradient(135deg, #fef3c7, #fde68a)' }}>
                <h3 style={{ fontSize: '16px', fontWeight: '700', color: '#92400e', marginBottom: '12px', display: 'flex', alignItems: 'center', gap: '8px' }}>
                  üí° Ë¥¥ÂøÉÊèêÁ§∫
                </h3>
                <div style={{ display: 'grid', gap: '6px' }}>
                  {detail.tips.map((tip, i) => (
                    <div key={i} style={{ fontSize: '13px', color: '#78350f', display: 'flex', alignItems: 'flex-start', gap: '6px' }}>
                      <span style={{ marginTop: '2px' }}>‚Ä¢</span>
                      <span>{tip}</span>
                    </div>
                  ))}
                </div>
              </div>
            </div>

            <div style={s.bottom}>
              <div style={{ display: 'flex', gap: '12px' }}>
                <button style={{ 
                  padding: '16px 20px', 
                  background: 'rgba(255,255,255,0.9)', 
                  color: '#667eea', 
                  border: '2px solid #667eea', 
                  borderRadius: '16px', 
                  fontSize: '14px', 
                  fontWeight: '700',
                  cursor: 'pointer'
                }}>
                  ‚ù§Ô∏è Êî∂Ëóè
                </button>
                <button style={{ 
                  ...s.btn, 
                  flex: 2,
                  background: 'linear-gradient(45deg, #667eea, #764ba2)'
                }}>
                  üß≠ ÂºÄÂßãÂØºËà™
                </button>
              </div>
            </div>
          </div>
        );
      }
    };
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
